<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
  "-//mybatis.org//DTD Mapper 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.moemao.tgks.wms.currencydetail.dao.CurrencyDetailDao">
<select id="wms_queryCurrencyDetail" parameterType="CurrencyDetailReq" resultType="CurrencyDetailEvt" resultMap="CurrencyDetailEvtMap">
        <![CDATA[  
            SELECT t.id, t.currencyid, t.name, t.type, t.code, t.unit, t.orderid, t.orderorderid, t.dealid, t.num, t,creatime, t.remark FROM t_tgks_wms_currencydetail t
        ]]>
        <where>
                1=1
            <if test="id !=null and id !='' ">
                AND t.ID = #{id}
            </if>
            <if test="currencyId !=null and currencyId !='' ">
                AND t.CURRENCYID = #{currencyId}
            </if>
            <if test="name !=null and name !='' ">
                AND t.NAME = #{name}
            </if>
            <if test="type !=null and type !='' ">
                AND t.TYPE = #{type}
            </if>
            <if test="code !=null and code !='' ">
                AND t.CODE = #{code}
            </if>
            <if test="unit !=null and unit !='' ">
                AND t.UNIT = #{unit}
            </if>
            <if test="orderId !=null and orderId !='' ">
                AND t.ORDERID = #{orderId}
            </if>
            <if test="orderOrderId !=null and orderOrderId !='' ">
                AND t.ORDERORDERID = #{orderOrderId}
            </if>
            <if test="dealId !=null and dealId !='' ">
                AND t.DEALID = #{dealId}
            </if>
            <if test="num !=null and num !='' ">
                AND t.NUM = #{num}
            </if>
            <if test="remark !=null and remark !='' ">
                AND t.REMARK = #{remark}
            </if>
        </where>
        <if test="sortSql !=null and sortSql !='' ">
            ORDER BY ${sortSql}
        </if>
</select>

<insert id="wms_addCurrencyDetail" parameterType="CurrencyDetailEvt">
        <![CDATA[  
            INSERT INTO t_tgks_wms_currencydetail (id, currencyid, name, type, code, unit, orderid, orderorderid, dealid, num, creatime, remark) 
            VALUES (#{id}, #{currencyId}, #{name}, #{type}, #{code}, #{unit}, #{orderId}, #{orderOrderId}, #{dealId}, #{num}, #{creaTime}, #{remark}) 
        ]]>
</insert>

<update id="wms_updateCurrencyDetail" parameterType="CurrencyDetailEvt">
        <![CDATA[  
            UPDATE t_tgks_wms_currencydetail SET 
                       currencyid = #{currencyId},
                       name = #{name},
                       type = #{type},
                       code = #{code},
                       unit = #{unit},
                       orderid = #{orderId},
                       orderorderid = #{orderOrderId},
                       dealid = #{dealId},
                       num = #{num},
                       remark = #{remark}
             WHERE ID = #{id}
        ]]>
</update>

<delete id="wms_deleteCurrencyDetail" parameterType="list">
        <![CDATA[  
            DELETE FROM t_tgks_wms_currencydetail WHERE id IN
        ]]>
        <foreach collection="list" item="ids"  open="(" separator="," close=")">
            #{ids}
        </foreach>
</delete>
</mapper>